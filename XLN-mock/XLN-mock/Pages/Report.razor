
@page "/report"
@inject NavigationManager NavigationManager;


<PageTitle>@title</PageTitle>
<span class="centered-holder">
    <div class="main border border-warning border-4 rounded-3">
        <div class="heading bg-danger text-center text-white">
            <h1>Warning!</h1>
            <h3>You are about to report a fault!</h3>
        </div>
        <div>
            <p>Before you report a fault, ensure that you have checked your equipment thoroughly. Engineering visits that prove faults to be with customer equipment or damage caused to the network may result in a charge.</p>
            <div class="text-center">
                <button class="text-white mx-3 btn bg-success" @onclick="OnClick">Continue</button>
                <!--a href="/form/{CLI}" onclick="" class="mx-3 btn bg-success">Continue</a-->
                <a href="/profile" class="text-white mx-3 btn bg-danger">Go Back</a>
            </div>
        </div>
    </div>
</span>



@code {
    private string title = "Warning";
    string isCLI { get; set; }
    string cli { get; set; }
    protected override void OnInitialized()
    {
        GetisCLI();
        GetCLI();
    }
    public void GetisCLI()
    {
        var uri = new Uri(NavigationManager.Uri);
        isCLI = Microsoft.AspNetCore.WebUtilities.QueryHelpers.ParseQuery(uri.Query).TryGetValue("iscli", out var type) ? type.First() : "";
    }
    public void GetCLI()
    {
        var uri = new Uri(NavigationManager.Uri);
        cli = Microsoft.AspNetCore.WebUtilities.QueryHelpers.ParseQuery(uri.Query).TryGetValue("cli", out var type) ? type.First() : "";
    }
    
    private void OnClick()
    {
        NavigationManager.NavigateTo($"form");
        //NavigationManager.NavigateTo($"form/?cli={cli}");
    }

}
